<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loading | SeanScript Development</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.birds.min.js"></script>
  <style>
    :root {
      --bg-dark: #0f172a;
      --text-dark: #f1f5f9;
      --bg-light: #f5f9ff;
      --text-light: #0f172a;
      --accent: #3b82f6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      background-color: var(--bg-light);
      color: var(--text-light);
    }

    #vanta-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .loading-content {
      text-align: center;
      z-index: 10;
      max-width: 90%;
      position: relative;
    }

    /* Bird exclusion zone */
    .bird-exclusion-zone {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      height: 400px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 5;
    }

    .logo {
      width: 120px;
      height: 120px;
      margin: 0 auto 2rem;
      opacity: 0.9;
    }

    .logo svg {
      width: 100%;
      height: 100%;
    }

    .brand {
      margin-bottom: 2rem;
    }

    .brand-name {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      letter-spacing: -0.5px;
    }

    .brand-name span {
      color: var(--accent);
    }

    .brand-tagline {
      font-size: 0.9rem;
      letter-spacing: 3px;
      text-transform: uppercase;
      opacity: 0.7;
    }

    .loading-indicator {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .loading-text {
      font-size: 1rem;
      margin-bottom: 1rem;
      opacity: 0.8;
    }

    .progress-container {
      width: 200px;
      height: 2px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 1px;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      width: 0%;
      background: var(--accent);
      transition: width 0.3s ease;
    }

    .fade-out {
      opacity: 0;
      transition: opacity 1s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @media (prefers-color-scheme: dark) {
      body {
        background-color: var(--bg-dark);
        color: var(--text-dark);
      }
      
      .progress-container {
        background: rgba(255, 255, 255, 0.1);
      }
    }

    @media (max-width: 768px) {
      .logo {
        width: 100px;
        height: 100px;
        margin-bottom: 1.5rem;
      }
      
      .brand-name {
        font-size: 1.8rem;
      }
      
      .brand-tagline {
        font-size: 0.8rem;
        letter-spacing: 2px;
      }
      
      .bird-exclusion-zone {
        width: 300px;
        height: 300px;
      }
    }
  </style>
</head>

<body>
  <div id="vanta-background"></div>
  
  <!-- Bird exclusion zone -->
  <div class="bird-exclusion-zone"></div>
  
  <div class="loading-content">
    <div class="logo">
      <svg version="1.0" xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 300 255" preserveAspectRatio="xMidYMid meet">
        <g transform="translate(0,255) scale(0.1,-0.1)" fill="#3b82f6" stroke="none">
          <path d="M1285 2159 c-107 -7 -177 -36 -254 -105 -210 -189 -152 -557 108 -688 25 -13 184 -66 352 -119 168 -52 331 -107 362 -121 95 -45 147 -127 155 -242 8 -133 -36 -222 -139 -279 l-54 -30 -323 0 -324 0 -24 28 c-20 24 -24 39 -24 98 l0 70 -87 -3 -88 -3 -3 -90 c-2 -64 2 -102 13 -132 20 -51 81 -108 132 -123 26 -8 156 -10 413 -8 l375 3 65 31 c89 42 171 124 213 211 28 61 32 79 35 178 6 164 -26 246 -138 361 -70 71 -137 103 -339 164 -295 88 -454 141 -496 165 -88 51 -127 120 -127 224 0 80 19 128 72 181 66 66 95 70 471 70 393 0 371 7 379 -117 l5 -78 94 -3 93 -3 -3 113 c-5 130 -21 169 -92 216 l-40 27 -346 5 c-190 3 -386 2 -436 -1z"/>
          <path d="M398 1825 c-38 -21 -68 -75 -68 -125 0 -34 6 -48 34 -76 57 -57 168 -47 202 18 14 27 18 29 67 26 l52 -3 7 -60 c14 -123 28 -162 76 -210 24 -25 50 -45 57 -45 7 0 15 -7 19 -15 5 -13 -15 -15 -139 -15 l-144 0 -21 30 c-60 84 -179 78 -226 -12 -20 -39 -12 -87 22 -127 56 -67 153 -62 200 9 l27 40 171 0 171 0 86 -89 c101 -104 123 -112 296 -115 l107 -1 7 -28 c11 -42 28 -57 64 -57 77 0 90 100 18 138 -14 8 -79 12 -175 13 -91 0 -165 5 -183 12 -17 7 -64 48 -106 92 -41 44 -110 114 -153 155 -99 95 -108 112 -108 214 -1 55 -6 90 -17 109 -14 25 -19 27 -86 27 l-71 0 -13 36 c-23 64 -109 93 -173 59z m104 -72 c25 -23 23 -59 -6 -88 -26 -26 -46 -25 -78 3 -22 19 -23 51 -2 80 18 26 60 29 86 5z m-33 -427 c28 -30 24 -63 -10 -88 -53 -39 -106 20 -74 82 19 37 53 40 84 6z"/>
          <path d="M2242 1624 c-22 -15 -22 -19 -22 -233 0 -155 3 -220 12 -229 15 -15 420 -17 449 -2 18 10 19 23 19 235 0 212 -1 225 -19 235 -12 6 -100 10 -218 10 -164 0 -202 -3 -221 -16z m373 -166 c4 -62 5 -138 3 -168 l-3 -55 -150 -5 c-82 -3 -153 -3 -158 0 -5 5 -12 281 -8 333 1 4 70 7 155 7 l154 0 7 -112z"/>
          <path d="M700 1108 c-40 -27 -63 -82 -53 -130 3 -17 23 -48 44 -69 l37 -37 4 -119 c4 -103 7 -118 22 -121 10 -2 22 0 27 5 5 5 9 62 10 127 2 98 5 119 18 123 9 3 29 18 44 32 28 26 30 26 235 32 114 4 210 7 215 8 4 1 7 12 7 26 l0 25 -203 0 -203 0 -12 33 c-29 80 -123 112 -192 65z m105 -63 c30 -29 32 -58 5 -85 -26 -26 -55 -25 -81 1 -35 35 -8 109 38 109 8 0 25 -11 38 -25z"/>
        </g>
      </svg>
    </div>

    <div class="brand">
      <h1 class="brand-name"><span>Sean</span>Script</h1>
      <div class="brand-tagline">Development</div>
    </div>

    <div class="loading-indicator">
      <div class="loading-text">Loading portfolio...</div>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
    </div>
  </div>

  <script>
    // Initialize Vanta.js birds effect
    let vantaEffect;
    
    function initVanta() {
      if (typeof VANTA !== 'undefined') {
        vantaEffect = VANTA.BIRDS({
          el: "#vanta-background",
          mouseControls: true,
          touchControls: true,
          gyroControls: false,
          minHeight: 200.00,
          minWidth: 200.00,
          scale: 1.00,
          scaleMobile: 1.00,
          backgroundColor: 0xf5f9ff,
          color1: 0x3b82f6,
          color2: 0x1e40af,
          birdSize: 1.20,
          wingSpan: 20.00,
          speedLimit: 5.00,
          separation: 40.00,
          alignment: 40.00,
          cohesion: 40.00
        });
        
        // Add bird containment logic
        setTimeout(() => {
          containBirds();
        }, 1000);
      }
    }
    
    // Function to keep birds away from text area
    function containBirds() {
      if (!vantaEffect || !vantaEffect.birdEntities) return;
      
      const exclusionZone = document.querySelector('.bird-exclusion-zone');
      const zoneRect = exclusionZone.getBoundingClientRect();
      const zoneCenterX = zoneRect.left + zoneRect.width / 2;
      const zoneCenterY = zoneRect.top + zoneRect.height / 2;
      const zoneRadius = zoneRect.width / 2;
      
      // Update bird positions every frame
      const originalUpdate = vantaEffect.update;
      vantaEffect.update = function() {
        originalUpdate.call(this);
        
        if (this.birdEntities) {
          this.birdEntities.forEach(bird => {
            // Calculate distance from bird to center of exclusion zone
            const dx = bird.position.x - zoneCenterX;
            const dy = bird.position.y - zoneCenterY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            // If bird is inside exclusion zone, push it out
            if (distance < zoneRadius) {
              const pushForce = 1.5;
              const pushX = (dx / distance) * pushForce;
              const pushY = (dy / distance) * pushForce;
              
              bird.position.x += pushX;
              bird.position.y += pushY;
              
              // Also adjust velocity to prevent immediate re-entry
              bird.velocity.x += pushX * 0.1;
              bird.velocity.y += pushY * 0.1;
            }
          });
        }
      };
    }
    
    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      initVanta();
      
      // Simulate loading progress with longer timer
      let progress = 0;
      const progressBar = document.getElementById('progress-bar');
      const progressInterval = setInterval(() => {
        progress += Math.random() * 8;
        if (progress > 100) {
          progress = 100;
          clearInterval(progressInterval);
          
          // Transition to portfolio after loading completes
          setTimeout(() => {
            document.body.classList.add('fade-out');
            setTimeout(() => {
              window.location.href = "portfolio.html?fadein=1";
            }, 1000);
          }, 500);
        }
        progressBar.style.width = `${progress}%`;
      }, 200);
    });

    // Clean up Vanta effect when leaving page
    window.addEventListener('beforeunload', function() {
      if (vantaEffect) {
        vantaEffect.destroy();
      }
    });
  </script>
</body>
</html>
